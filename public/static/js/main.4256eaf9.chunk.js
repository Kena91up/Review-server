(this["webpackJsonpReviewHunt-client"]=this["webpackJsonpReviewHunt-client"]||[]).push([[0],{41:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(22),c=n.n(r),i=(n(41),n(19)),o=n(6),l=n(7),u=n(9),j=n(8),d=n(11),h=(n(42),n(103)),b=n(13),p=n.n(b),g="https://reviewhunt.herokuapp.com",m=n(101),O=n(102),x=n(1);var f=function(e){return Object(x.jsx)(m.a,{bg:"light",expand:"lg",children:Object(x.jsx)(m.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsxs)(O.a,{className:"mr-auto",children:[Object(x.jsx)("a",{href:"/",children:Object(x.jsx)("img",{src:"/images/newlogo.png",alt:"logo",className:"logo"})}),e.user?Object(x.jsx)("button",{onClick:e.onLogout,children:"Log Out"}):Object(x.jsx)(x.Fragment,{})]})})})},v=n(12);var y=function(e){return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("form",{onSubmit:e.onSignUp,className:"form-signup",children:[Object(x.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Please Sign Up"}),Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"InputUsername",children:"Username"}),Object(x.jsx)("input",{name:"username",type:"text",id:"InputUsername"}),Object(x.jsx)("label",{htmlFor:"InputEmail",children:"Email"}),Object(x.jsx)("input",{name:"email",type:"email",id:"InputEmail"}),Object(x.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(x.jsx)("input",{name:"password",type:"password",id:"InputPassword"})]})}),e.error?Object(x.jsx)("p",{style:{color:"green"},children:e.error.errorMessage}):null,Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create an account"}),Object(x.jsxs)("p",{children:["Already have an account?",Object(x.jsx)(v.b,{style:{marginLeft:"10px"},to:"/signin",children:"Log In"})]})]})})};var w=function(e){return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("form",{onSubmit:e.onSignIn,children:[Object(x.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Please Log In"}),Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"InputEmail",children:"Email address"}),Object(x.jsx)("input",{name:"email",type:"email",id:"InputEmail"}),Object(x.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(x.jsx)("input",{name:"password",type:"password",id:"InputPassword"}),e.error?Object(x.jsx)("p",{style:{color:"green"},children:e.error.error}):null,Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Log In"})]})}),Object(x.jsxs)("p",{children:["Don't have an account?",Object(x.jsx)(v.b,{style:{marginLeft:"10px"},to:"/signup",children:"Sign Up"})]})]})})},S=n(37),I=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)("input",{onChange:this.props.myChange,type:"text",placeholder:"Search food"})})}}]),n}(a.Component),k=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)("input",{onChange:this.props.mySubmit,type:"number",placeholder:"Search by rating"})})}}]),n}(a.Component),C=n(93),N=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){!function(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://widget.kommunicate.io/v2/kommunicate.app",document.getElementsByTagName("head")[0].appendChild(n),window.kommunicate=t,t._globals={appId:"231e3f56632452a00cc0a81b0d2d11fd1",popupWidget:!0,automaticChatOpenOnNavigation:!0}}(document,window.kommunicate||{})}},{key:"render",value:function(){return Object(x.jsx)("div",{})}}]),n}(a.Component),U=n(92),D=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.id;p.a.get("".concat(g,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(){console.log("Detail fecth failed")}))}},{key:"render",value:function(){var e=this.state.loggedInUser,t=this.props.onDelete;return e?Object(x.jsxs)("div",{children:[Object(x.jsxs)("h4",{children:[" Welcome to your Profile ",e.username," !"]}),Object(x.jsxs)("div",{children:["Name:",e.username]}),Object(x.jsxs)("div",{children:["Email:",e.email," "]}),Object(x.jsxs)("div",{children:["Country:",e.country]}),Object(x.jsxs)("div",{children:["Favorite Cuisine: ",e.favorite]}),Object(x.jsx)("img",{src:e.profileimage,className:"img",alt:""}),Object(x.jsx)("div",{children:" Your reviews "}),e.reviews.map((function(e){return Object(x.jsxs)("div",{children:[" ",Object(x.jsxs)("section",{children:[Object(x.jsxs)("h3",{children:[" ",e.restaurantName," at ",e.restaurantLocation]}),Object(x.jsx)("h3",{children:e.title}),Object(x.jsxs)("h5",{children:[" ",e.description]}),Object(x.jsxs)("h5",{children:[" ",e.rating," ",Object(x.jsx)(C.a,{height:"10px",color:"blue"})," "]}),Object(x.jsx)("img",{src:e.image,alt:"profileImage"})]})]})})),Object(x.jsx)(v.b,{to:"/user/".concat(e._id),children:"Update account "}),Object(x.jsx)("button",{onClick:function(){t(e._id)},children:"Delete account"})]}):Object(x.jsx)(U.a,{})}}]),n}(a.Component),L=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={businesses:[],filteredBusinesses:[],loaded:!1},e.handleSearchFood=function(t){var n=t.target.value.toLowerCase(),a=e.state.businesses.filter((function(e){return e.categories[0].title.toLowerCase().includes(n)}));e.setState({filteredBusinesses:a})},e.handleSearchRate=function(t){var n=t.target.value,a=e.state.businesses.filter((function(e){return console.log(n),console.log(e.rating),e.rating>=n}));e.setState({filteredBusinesses:a})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(g,"/api/businesses")).then((function(t){console.log(t.data),e.setState({businesses:t.data.businesses,filteredBusinesses:t.data.businesses,loaded:!0})})).catch((function(e){console.log("err featching data",e)}))}},{key:"render",value:function(){var e=this.state,t=e.filteredBusinesses;return 0==e.loaded?Object(x.jsx)("div",{class:"spinner-grow text-primary",role:"status",children:Object(x.jsx)("span",{class:"sr-only",children:"Loading..."})}):Object(x.jsxs)("div",{children:[Object(x.jsx)(v.b,{to:"/profile",children:Object(x.jsx)("button",{children:"Profile"})}),Object(x.jsx)("h4",{children:"Restaurants"}),Object(x.jsx)(I,{myChange:this.handleSearchFood}),Object(x.jsx)(k,{mySubmit:this.handleSearchRate}),t.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h3",{children:["Name: ",e.name," "]}),Object(x.jsxs)("h4",{children:["Location: ",e.location.city,", ",e.location.address1]}),Object(x.jsxs)("h4",{children:[" Cuisine: ",e.categories[0].title]}),Object(x.jsx)("h4",{children:e.terms}),Object(x.jsxs)("h5",{children:[" Rating: ",e.rating," ",Object(x.jsx)(C.a,{height:"10px",color:"blue"})," "]}),Object(x.jsx)("img",{class:"img",src:e.image_url}),Object(x.jsx)(v.b,{to:"/businesses/".concat(e.id),children:Object(x.jsx)("h5",{children:" More details"})})]},e.id)})),Object(x.jsx)(N,{})]})}}]),n}(a.Component),P=n(94),F=n(95),A=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={ratingCategory:0,complete:!1},e.handleSubmit=function(t){t.preventDefault();var n=t.target.title.value,a=t.target.description.value,s=t.target.date.value,r=t.target.image.files[0],c=e.props.match.params.restaurantId,i=new FormData;i.append("imageUrl",r),p.a.post("".concat(g,"/api/upload"),i).then((function(t){p.a.post("".concat(g,"/api/add-review"),{image:t.data.image,title:n,description:a,date:s,rating:e.state.ratingCategory,restaurantId:c},{withCredentials:!0}).then((function(t){e.setState({reviews:t.data,complete:!0}),setTimeout((function(){e.props.history.push("/businesses/".concat(c))}),3e3)}))})).catch((function(e){console.log("adding review failed",e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[this.state.complete?Object(x.jsxs)("h4",{children:["Thank you for your review!",Object(x.jsx)(P.a,{color:"darkred",height:"10px"})]}):null,Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsx)("label",{children:" Title of your review "}),Object(x.jsx)("input",{name:"title",type:"text",placeholder:"Summarize your visit"}),Object(x.jsx)("label",{children:" Your review "}),Object(x.jsx)("input",{name:"description",type:"text",placeholder:"Describe your experience"}),Object(x.jsx)("label",{children:" Review date "}),Object(x.jsx)("input",{type:"date",name:"date"}),Object(x.jsxs)("label",{for:"photo",children:[" ","Do you have photos to share? (only in jpg or png format)"]}),Object(x.jsx)("input",{type:"file",name:"image",autocomplete:"off"}),Object(x.jsx)("label",{children:" Give a rating "}),Object(x.jsx)(S.a,{name:"rating",emptySymbol:Object(x.jsx)(F.a,{color:"darkgreen"}),fullSymbol:Object(x.jsx)(C.a,{color:"green"}),initialRating:this.state.ratingCategory,onClick:function(t){e.setState({ratingCategory:t})}}),Object(x.jsxs)("span",{children:[" ",this.state.ratingCategory]}),Object(x.jsx)("button",{type:"submit",children:" Add a review "})]})]})}}]),n}(a.Component),R=Object(d.f)(A),E=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={complete:!1},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{children:[this.state.complete?Object(x.jsx)("h4",{children:"Update your Profile "}):null,Object(x.jsx)("div",{children:this.username}),Object(x.jsxs)("form",{onSubmit:this.props.onAdd,children:[Object(x.jsx)("input",{name:"country",type:"text",placeholder:"Enter country"}),Object(x.jsx)("input",{name:"favorite",type:"text",placeholder:"Your favorite cuisine"}),Object(x.jsx)("input",{name:"profileimage",type:"file"}),Object(x.jsx)("button",{type:"submit",children:"Update Profile"})]})]})}}]),n}(a.Component),M=n(100),B=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={reviews:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.restaurantId;p.a.get("".concat(g,"/api/reviews"),{withCredentials:!0,params:{restaurantId:t}}).then((function(t){e.setState({reviews:t.data}),console.log("Its passing through here")})).catch((function(e){console.log("Something went wrong",e)}))}},{key:"render",value:function(){var e=this.state.reviews,t=this.props;t.loggedInUser,t.username;return Object(x.jsxs)("div",{class:"media card-deck ",children:[Object(x.jsx)("h4",{children:" Reviews "}),e.map((function(e){return Object(x.jsxs)("div",{class:"media-body border card bg-light mb-3",children:[Object(x.jsx)("img",{src:e.userId.profileimage,alt:"profileImage",class:"img rounded-circle"}),Object(x.jsx)("h1",{class:"mt-0",children:e.userId.username}),Object(x.jsx)("h3",{class:"mt-0",children:e.title}),Object(x.jsx)("h5",{class:"mt-0",children:e.description}),Object(x.jsxs)("h5",{children:[e.rating,Object(x.jsx)(C.a,{height:"10px",color:"green"})," "]}),Object(x.jsx)("img",{src:e.image,alt:e.title,class:"foodimg border-dark rounded"})]})}))]})}}]),n}(a.Component),z=n(96),_=n(97),T=n(104),Y=n(98),H=n(99),V=(n(88),n(21)),W=n.n(V);function J(e){return Object(z.a)().setView([e.position.latitude,e.position.longitude],13),null}var G=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=["".concat(this.props.location.coordinates.latitude),"".concat(this.props.location.coordinates.longitude)],t=new W.a.icon({iconUrl:"../images/restaurant-icon.png",iconSize:[32,45]});return console.log(e),Object(x.jsx)("div",{children:Object(x.jsxs)(_.a,{style:{width:"800px",height:"500px"},center:e,zoom:20,children:[Object(x.jsx)(J,{position:this.props.location.coordinates}),Object(x.jsx)(T.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(x.jsx)(Y.a,{icon:t,position:e,children:Object(x.jsxs)(H.a,{children:[' "',this.props.location.name,'" ']})})]})})}}]),n}(a.Component),K=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={restaurantDetails:null},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.restaurantId;p.a.get("".concat(g,"/api/businesses/").concat(t),{withCredentials:!0}).then((function(t){e.setState({restaurantDetails:t.data})})).catch((function(e){console.log("Detail fetch failed")}))}},{key:"render",value:function(){var e=this.state.restaurantDetails,t=this.props.match.params.restaurantId;return e?Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{class:"alert alert-primary",role:"alert",children:["Back to Restaurants ",Object(x.jsx)(v.b,{to:"/businesses",class:"alert-link",children:"click here"})]}),Object(x.jsxs)("div",{children:[" Name of the restaurant: ",e.name," "]}),Object(x.jsx)("img",{class:"img",src:e.image_url}),e.photos.slice(1,3).map((function(e){return Object(x.jsx)("img",{class:"img",src:e})})),Object(x.jsxs)("div",{children:[" Category: ",e.categories[0].title]}),Object(x.jsxs)("div",{children:[" ",Object(x.jsx)("img",{className:"iconimage",src:"/images/address.png",alt:""})," ",e.location.city," |"," ",e.location.address1]}),Object(x.jsxs)("div",{children:[" Price range: ",e.price]}),Object(x.jsxs)("div",{children:[" ","Rating: ",e.rating," ",Object(x.jsx)(C.a,{height:"10px",color:"blue"})]}),Object(x.jsxs)("div",{children:[" ",Object(x.jsx)("img",{className:"iconimage",src:"/images/phone.png",att:""})," ",e.phone]}),Object(x.jsxs)("a",{href:e.url,children:[Object(x.jsx)("img",{className:"iconimage",src:"/images/website.png",atl:""}),"Visit here",Object(x.jsx)(M.a,{height:"10px"})]}),Object(x.jsx)(v.b,{to:"/businesses/".concat(t,"/add-review"),children:Object(x.jsx)("div",{children:" Write a review "})}),Object(x.jsx)(B,{restaurantId:t}),Object(x.jsx)(G,{location:e})]}):Object(x.jsx)("div",{class:"spinner-grow text-primary",role:"status",children:Object(x.jsx)("span",{class:"sr-only",children:"Loading..."})})}}]),n}(a.Component);var q=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{children:Object(x.jsx)(v.b,{to:"/signin",className:" btn button",children:"Log In"})}),Object(x.jsx)("button",{children:Object(x.jsx)(v.b,{to:"/signup",className:"btn button",children:"Register"})}),Object(x.jsx)("div",{className:"splash-screen",style:{backgroundImage:"url(/images/rest5.jpg)",backgroundPosition:"top",backgroundSize:"cover",display:"block"}})]})},Q=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"notfound-page",children:Object(x.jsx)("div",{style:{backgroundImage:"url(/images/bench.png)",backgroundPosition:"absolute",width:"100%",height:"450px",backgroundSize:"cover",display:"block"},children:Object(x.jsxs)("div",{className:"text-notFound",children:[Object(x.jsx)("h1",{className:"title-notFound",children:Object(x.jsx)("b",{children:" 404 "})}),Object(x.jsxs)("div",{className:"sections",children:[" ","The page you are looking for does not exist.",Object(x.jsx)("br",{}),"How you got here is a mystery."]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"sections",children:[" ","You can click on our logo at the left corner to go back to the homepage."]})]})})})}}]),n}(a.Component),X=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={restaurants:[],loggedInUser:null,error:null,reviews:[],filteredProfile:[],user:[],showForm:!1,fetching:!0},e.handleSubmitProfile=function(t){t.preventDefault();var n=t.target.country.value,a=t.target.favorite.value,s=t.target.profileimage.files[0],r=new FormData;r.append("imageUrl",s),p.a.post("".concat(g,"/api/upload"),r).then((function(t){p.a.patch("".concat(g,"/api/user"),{country:n,favorite:a,profileimage:t.data.image},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/profile")}))}))})).catch((function(e){console.log("Update failed",e)}))},e.handleDelete=function(t){p.a.delete("".concat(g,"/api/profile/").concat(t)).then((function(){var n=e.state.user.filter((function(e){return e._id!==t}));e.setState({loggedInUser:n},(function(){e.props.history.push("/")}))})).catch((function(e){console.log("Delete failed",e)}))},e.handleSignUp=function(t){t.preventDefault();var n={username:t.target.username.value,email:t.target.email.value,password:t.target.password.value};p.a.post("".concat(g,"/api/signup"),n).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/signin")}))})).catch((function(t){e.setState({error:t.response.data})}))},e.handleSignIn=function(t){t.preventDefault();var n={email:t.target.email.value,password:t.target.password.value};p.a.post("".concat(g,"/api/signin"),n,{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/businesses")}))})).catch((function(t){e.setState({error:t.response.data})}))},e.handleLogout=function(t){p.a.post("".concat(g,"/api/logout"),{},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))})).catch((function(e){console.log("Something went wrong",e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(g,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({user:t.data,fetching:!1})})).catch((function(){console.log("Detail fecth failed"),e.setState({fetching:!1})})),this.state.loggedInUser||p.a.get("".concat(g,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(){}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.loggedInUser,a=t.error;return t.fetching?Object(x.jsx)("div",{class:"spinner-grow text-primary",role:"status",children:Object(x.jsx)("span",{class:"sr-only",children:"Loading..."})}):Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(f,{onLogout:this.handleLogout,user:n}),Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.a,{exact:!0,path:"/",component:q}),Object(x.jsx)(d.a,{path:"/signin",render:function(t){return Object(x.jsx)(w,Object(i.a)({error:a,onSignIn:e.handleSignIn},t))}}),Object(x.jsx)(d.a,{path:"/signup",render:function(t){return Object(x.jsx)(y,Object(i.a)({error:a,onSignUp:e.handleSignUp},t))}}),Object(x.jsx)(d.a,{path:"/profile",render:function(t){return Object(x.jsx)(D,Object(i.a)({onDelete:e.handleDelete},t))}}),Object(x.jsx)(d.a,{exact:!0,path:"/businesses",component:L}),Object(x.jsx)(d.a,{exact:!0,path:"/businesses/:restaurantId/add-review",render:function(){return Object(x.jsx)(R,{onAdd:e.handleSubmit})}}),Object(x.jsx)(d.a,{path:"/user",render:function(t){return Object(x.jsx)(E,Object(i.a)({onAdd:e.handleSubmitProfile},t))}}),Object(x.jsx)(d.a,{exact:!0,path:"/businesses/:restaurantId",component:K}),Object(x.jsx)(d.a,{component:Q})]}),Object(x.jsxs)(h.a.Footer,{className:"text-muted",children:["Copyright \xa9 2021 By Kena & Viktoria"," "]})]})}}]),n}(a.Component),Z=Object(d.f)(X);c.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(v.a,{children:Object(x.jsx)(Z,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.4256eaf9.chunk.js.map