{"version":3,"sources":["config.js","components/MyNav.jsx","components/SignUp.jsx","components/SignIn.jsx","components/Search.js","components/SearchRate.js","components/Chat.js","components/Profile.jsx","components/RestaurantsList.jsx","components/AddReview.js","components/AddUserDetails.js","components/ReviewList.js","components/Map.js","components/RestaurantDetails.js","App.js","index.js"],"names":["process","MyNav","props","Navbar","bg","expand","src","alt","class","Collapse","id","Nav","className","user","onClick","onLogout","to","SignUp","onSubmit","onSignUp","htmlFor","name","type","error","style","color","errorMessage","marginLeft","SignIn","onSignIn","Search","onChange","this","myChange","placeholder","Component","mySubmit","Chat","d","m","s","document","createElement","async","getElementsByTagName","appendChild","window","kommunicate","_globals","appId","popupWidget","automaticChatOpenOnNavigation","Profile","state","loggedInUser","axios","get","config","withCredentials","then","response","setState","data","catch","console","log","onDelete","username","email","country","favorite","profileimage","reviews","map","userReview","restaurantName","restaurantLocation","title","description","rating","height","image","_id","Spinner","RestaurantsList","businesses","filteredBusinesses","loaded","handleSearchFood","event","searchFood","target","value","toLowerCase","filteredFoodList","filter","food","categories","includes","handleSearchRate","searchRate","filteredRateList","err","SearchRate","singleBusiness","location","city","address1","terms","image_url","AddReview","ratingCategory","complete","handleSubmit","preventDefault","date","files","restaurantId","match","params","uploadFormImage","FormData","append","post","setTimeout","history","push","for","autocomplete","emptySymbol","fullSymbol","initialRating","withRouter","AddUserDetails","onAdd","ReviewList","singleReview","userId","MyComponent","useMap","setView","position","latitude","longitude","Map","coordinates","pinIcon","L","icon","iconUrl","iconSize","MapContainer","width","center","zoom","TileLayer","attribution","url","Marker","Popup","RestaurantDetails","restaurantDetails","photos","slice","photo","price","phone","href","App","restaurants","filteredProfile","showForm","fetching","handleSubmitProfile","uploadForm","patch","handleDelete","delete","handleSignUp","password","handleSignIn","handleLogout","path","render","routeProps","exact","component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a5383436.chunk.js","sourcesContent":["export default {\r\n\tAPI_URL: process.env.REACT_APP_SERVER_URL\r\n}","import React from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction MyNav(props) {\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"lg\">\r\n      <img src=\"/images/logo.png\" alt=\"\" class=\"logo\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          {props.user ? (\r\n            <button onClick={props.onLogout}>Log Out</button> //onclick is event onLogout is eventlistner\r\n          ) : (\r\n            <>\r\n              <button>\r\n                <Link to=\"/signin\" class=\"button\">\r\n                  Log In\r\n                </Link>\r\n              </button>\r\n              <button>\r\n                <Link to=\"/signup\" class=\"button\">\r\n                  Register\r\n                </Link>\r\n              </button>\r\n            </>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n}\r\nexport default MyNav;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction SignUp(props) {\r\n  return (\r\n    <div className=\"container\">\r\n      <form onSubmit={props.onSignUp} className=\"form-signup\">\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please Sign Up</h1>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <label htmlFor=\"InputUsername\">Username</label>\r\n            <input name=\"username\" type=\"text\" id=\"InputUsername\" />\r\n            <label htmlFor=\"InputEmail\">Email</label>\r\n            <input name=\"email\" type=\"email\" id=\"InputEmail\" />\r\n            <label htmlFor=\"InputPassword\">Password</label>\r\n            <input name=\"password\" type=\"password\" id=\"InputPassword\" />\r\n          </div>\r\n        </div>\r\n        {props.error ? (\r\n          <p style={{ color: \"green\" }}>{props.error.errorMessage}</p>\r\n        ) : null}\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Create an account\r\n        </button>\r\n\r\n        <p>\r\n          Already have an account!\r\n          <Link style={{ marginLeft: \"10px\" }} to=\"/signin\">\r\n            LogIn\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nexport default SignUp;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction SignIn(props) {\r\n  return (\r\n    <div className=\"container\">\r\n      <form onSubmit={props.onSignIn}>\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please Log In</h1>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <label htmlFor=\"InputEmail\">Email address</label>\r\n            <input name=\"email\" type=\"email\" id=\"InputEmail\" />\r\n            <label htmlFor=\"InputPassword\">Password</label>\r\n            <input name=\"password\" type=\"password\" id=\"InputPassword\" />\r\n            {props.error ? (\r\n              <p style={{ color: \"green\" }}>{props.error.error}</p>\r\n            ) : null}\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              Log In\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <p>\r\n          Don't have an account!\r\n          <Link style={{ marginLeft: \"10px\" }} to=\"/signup\">\r\n            SignUp\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Search extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input\r\n          onChange={this.props.myChange}\r\n          type=\"text\"\r\n          placeholder=\"Search food\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Search extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input\r\n          onChange={this.props.mySubmit}\r\n          type=\"number\"\r\n          placeholder=\"Search by rating\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Chat extends Component {\r\n  componentDidMount() {\r\n    (function (d, m) {\r\n      var kommunicateSettings = {\r\n        appId: \"231e3f56632452a00cc0a81b0d2d11fd1\",\r\n        popupWidget: true,\r\n        automaticChatOpenOnNavigation: true,\r\n      };\r\n      var s = document.createElement(\"script\");\r\n      s.type = \"text/javascript\";\r\n      s.async = true;\r\n      s.src = \"https://widget.kommunicate.io/v2/kommunicate.app\";\r\n      var h = document.getElementsByTagName(\"head\")[0];\r\n      h.appendChild(s);\r\n      window.kommunicate = m;\r\n      m._globals = kommunicateSettings;\r\n    })(document, window.kommunicate || {});\r\n  }\r\n  render() {\r\n    return <div></div>;\r\n  }\r\n}\r\nexport default Chat;\r\n","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport config from \"../config\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { StarFill } from \"react-bootstrap-icons\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\n\r\nclass Profile extends Component {\r\n  state = {\r\n    loggedInUser: null,\r\n  };\r\n  componentDidMount() {\r\n    let id = this.props.id;\r\n    axios\r\n      .get(`${config.API_URL}/api/user`, { withCredentials: true })\r\n      .then((response) => {\r\n        this.setState({\r\n            loggedInUser: response.data,\r\n        });\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Detail fecth failed\");\r\n      });\r\n  }\r\n  render() {\r\n    const { loggedInUser } = this.state;\r\n    const { onDelete } = this.props;\r\n\r\n    if (!loggedInUser) {\r\n        return <Spinner />\r\n    }\r\n    return (\r\n      <div>\r\n        <h4> Welcome to your Profile {loggedInUser.username} !</h4>\r\n          <div>Name:{loggedInUser.username}</div>\r\n          <div>Email:{loggedInUser.email} </div>\r\n          <div>Country:{loggedInUser.country}</div>\r\n          <div>Favorite Cuisine: {loggedInUser.favorite}</div>\r\n          <img src={loggedInUser.profileimage} alt=''/>\r\n          <div> Your reviews </div>\r\n          {\r\n            loggedInUser.reviews.map((userReview) => {\r\n              return <div> <section>\r\n              <h3> {userReview.restaurantName} at {userReview.restaurantLocation}</h3>\r\n              <h3>{userReview.title}</h3>\r\n              <h5> {userReview.description}</h5>\r\n              <h5> {userReview.rating} <StarFill height='10px' color=\"blue\"/> </h5>\r\n              <img src={userReview.image} alt = 'profileImage'/>\r\n              </section>\r\n              </div>\r\n          })\r\n          }\r\n         <Link to={`/user/${loggedInUser._id}`}>Update account </Link> \r\n          <button\r\n          onClick={() => {\r\n            onDelete(loggedInUser._id);\r\n          }}\r\n        >\r\n          Delete\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\nimport { Link,  } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport config from \"../config\";\r\nimport {Rating} from 'react-rating'\r\nimport Search from \"./Search.js\";\r\nimport SearchRate from './SearchRate.js'\r\nimport {StarFill, TruckFlatbed} from \"react-bootstrap-icons\";\r\nimport Chat from './Chat.js'\r\nimport Profile from \"./Profile\";\r\n\r\nclass RestaurantsList extends Component {\r\n  state = {\r\n    businesses: [],\r\n    filteredBusinesses: [],\r\n    loaded: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`${config.API_URL}/api/businesses`)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        this.setState({\r\n          businesses: response.data.businesses,\r\n          filteredBusinesses: response.data.businesses,\r\n          loaded: true,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err featching data\", err);\r\n      });\r\n  }\r\n  // search food\r\n  handleSearchFood = (event) => {\r\n    let searchFood = event.target.value.toLowerCase();\r\n    let filteredFoodList = this.state.businesses.filter((food) => {\r\n      return food.categories[0].title.toLowerCase().includes(searchFood);\r\n    });\r\n    this.setState({\r\n      filteredBusinesses: filteredFoodList\r\n    });\r\n  };\r\n\r\n  // search by rating\r\n  handleSearchRate = (event) => {\r\n    let searchRate = event.target.value;\r\n    let filteredRateList = this.state.businesses.filter((food) => {\r\n     console.log(searchRate)\r\n     console.log(food.rating)\r\n      return food.rating >= searchRate;\r\n      \r\n    });\r\n    this.setState({\r\n      filteredBusinesses: filteredRateList\r\n    });\r\n  };\r\n\r\n \r\nrender() {\r\n    const { filteredBusinesses, loaded } = this.state;\r\n\r\n   if (loaded ==  false){\r\n    return <p> Loading..</p>\r\n   }\r\n    return (\r\n      <div>\r\n      <Link to='/profile'><button>Profile</button></Link>\r\n        <h4>Restaurants</h4>\r\n        <Search myChange={this.handleSearchFood} />\r\n        <SearchRate mySubmit={this.handleSearchRate}/>\r\n        {\r\n          filteredBusinesses.map((singleBusiness) => {\r\n          return (\r\n              <div key = {singleBusiness.id}>\r\n                      <h3>Name: {singleBusiness.name} </h3>\r\n                      <h4>Location: {singleBusiness.location.city}, {singleBusiness.location.address1}</h4>\r\n                      <h4> Cuisine: {singleBusiness.categories[0].title}</h4>\r\n                      <h4>{singleBusiness.terms}</h4>\r\n                      <h5> Rating: {singleBusiness.rating} <StarFill height='10px' color=\"blue\"/> </h5>\r\n                    <img class=\"img\" src = {singleBusiness.image_url} />\r\n                    <Link to={`/businesses/${singleBusiness.id}`}>\r\n                    <h5> More details</h5>\r\n                    </Link>\r\n                </div>\r\n          );\r\n        })}\r\n        <Chat/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default RestaurantsList;\r\n","import React, { Component } from \"react\";\r\nimport Rating from \"react-rating\";\r\nimport { Star, StarFill, StarHalf, HeartFill } from \"react-bootstrap-icons\";\r\nimport axios from \"axios\";\r\nimport config from \"../config\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass AddReview extends Component {\r\n  state = {\r\n    ratingCategory: 0,\r\n    complete: false,\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    let title = event.target.title.value;\r\n    let description = event.target.description.value;\r\n    let date = event.target.date.value;\r\n    let image = event.target.image.files[0];\r\n    let restaurantId = this.props.match.params.restaurantId;\r\n\r\n    let uploadFormImage = new FormData();\r\n    uploadFormImage.append(\"imageUrl\", image);\r\n\r\n    axios\r\n      .post(`${config.API_URL}/api/upload`, uploadFormImage)\r\n      .then((response) => {\r\n        axios\r\n          .post(`${config.API_URL}/api/add-review`, {\r\n            image: response.data.image,\r\n            title,\r\n            description,\r\n            date,\r\n            rating: this.state.ratingCategory,\r\n            restaurantId,\r\n          },{withCredentials:true})\r\n\r\n          .then((response) => {\r\n            this.setState({\r\n              reviews: response.data,\r\n              complete: true,\r\n            });\r\n            setTimeout(() => {\r\n              this.props.history.push(`/businesses/${restaurantId}`);\r\n            }, 3000);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"adding review failed\", err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.complete ? <h4>Thank you for your review!<HeartFill color=\"darkred\" height='10px'/></h4> : null}\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label> Title of your review </label>\r\n          <input name=\"title\" type=\"text\" placeholder=\"Summarize your visit\" />\r\n          <label> Your review </label>\r\n          <input\r\n            name=\"description\"\r\n            type=\"text\"\r\n            placeholder=\"Describe your experience\"\r\n          />\r\n          <label> Review date </label>\r\n          <input type=\"date\" name=\"date\" />\r\n          <label for=\"photo\">\r\n            {\" \"}\r\n            Do you have photos to share? (only in jpg or png format)\r\n          </label>\r\n          <input type=\"file\" name=\"image\" autocomplete=\"off\"></input>\r\n          <label> Give a rating </label>\r\n          <Rating\r\n            name=\"rating\"\r\n            emptySymbol={<Star color=\"darkblue\" />}\r\n            fullSymbol={<StarFill color=\"blue\" />}\r\n            initialRating={this.state.ratingCategory}\r\n            onClick={(value) => {\r\n              this.setState({\r\n                ratingCategory: value,\r\n              });\r\n            }}\r\n          />\r\n          <span> {this.state.ratingCategory}</span>\r\n          <button type=\"submit\"> Add a review </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AddReview);\r\n","import React, { Component } from \"react\";\r\n\r\nclass AddUserDetails extends Component {\r\n  state = {\r\n    complete: false,\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.complete ? <h4>Update your Profile! </h4> : null}\r\n        <div>{this.username}</div>\r\n        <form onSubmit={this.props.onAdd}>\r\n          <input name=\"country\" type=\"text\" placeholder=\"Enter country\" />\r\n          <input\r\n            name=\"favorite\"\r\n            type=\"text\"\r\n            placeholder=\"Your favorite cuisine\"\r\n          />\r\n          <input name=\"profileimage\" type=\"file\" />\r\n          <button type=\"submit\">Add Profile</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default AddUserDetails;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport config from \"../config\";\r\nimport { StarFill } from \"react-bootstrap-icons\";\r\n\r\nclass ReviewList extends Component {\r\n  state = {\r\n    reviews: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    let restaurantId = this.props.restaurantId;\r\n    axios\r\n      .get(`${config.API_URL}/api/reviews`, {\r\n        withCredentials: true,\r\n        params: {\r\n          restaurantId: restaurantId,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.setState({\r\n          reviews: response.data,\r\n        });\r\n        console.log(\"Its passing through here\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Something went wrong\", err);\r\n      });\r\n  }\r\n  render() {\r\n    const { reviews } = this.state;\r\n    const { loggedInUser, username } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <h4> Reviews </h4>\r\n        {reviews.map((singleReview) => {\r\n          return (\r\n            <div>\r\n              <h4> Reviews </h4>\r\n              {reviews.map((singleReview) => {\r\n                return (\r\n                  <div>\r\n                    <div> User: {singleReview.userId.username} </div>\r\n                    <img\r\n                      src={singleReview.userId.profileimage}\r\n                      alt=\"profileImage\"\r\n                    />\r\n                    <div> {singleReview.title} </div>\r\n                    <div> {singleReview.description} </div>\r\n                    <div>\r\n                      {\" \"}\r\n                      {singleReview.rating}{\" \"}\r\n                      <StarFill height=\"10px\" color=\"blue\" />{\" \"}\r\n                    </div>\r\n                    <img\r\n                      src={singleReview.image}\r\n                      alt={singleReview.title}\r\n                      class=\"img\"\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ReviewList;\r\n","import React, { Component } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport axios from \"axios\";\r\nimport config from \"../config\";\r\n\r\nfunction MyComponent(props) {\r\n  const map = useMap();\r\n  map.setView([props.position.latitude, props.position.longitude], 13);\r\n  return null;\r\n}\r\n\r\nclass Map extends Component {\r\n  render() {\r\n    const position = [\r\n      `${this.props.location.coordinates.latitude}`,\r\n      `${this.props.location.coordinates.longitude}`,\r\n    ];\r\n\r\n    const pinIcon = new L.icon({\r\n      iconUrl: \"../images/restaurant-icon.png\",\r\n      iconSize: [32, 45],\r\n    });\r\n    console.log(position);\r\n    return (\r\n      <div>\r\n        <MapContainer\r\n          style={{ width: \"800px\", height: \"500px\" }}\r\n          center={position}\r\n          zoom={20}\r\n        >\r\n          <MyComponent position={this.props.location.coordinates} />\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <Marker icon={pinIcon} position={position}>\r\n            <Popup> \"{this.props.location.name}\" </Popup>\r\n          </Marker>\r\n        </MapContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport config from \"../config\";\r\nimport { Images, StarFill, ArrowUpRight } from \"react-bootstrap-icons\";\r\nimport AddReview from \"./AddReview\";\r\nimport ReviewList from \"./ReviewList\";\r\nimport Map from \"./Map\";\r\n\r\nclass RestaurantDetails extends Component {\r\n  state = {\r\n    restaurantDetails: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    let restaurantId = this.props.match.params.restaurantId;\r\n    axios\r\n      .get(`${config.API_URL}/api/businesses/${restaurantId}`, {\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => {\r\n        this.setState({\r\n          restaurantDetails: response.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Detail fetch failed\");\r\n      });\r\n  }\r\n  render() {\r\n    const { restaurantDetails } = this.state;\r\n    let restaurantId = this.props.match.params.restaurantId;\r\n    if (!restaurantDetails) {\r\n      <div class=\"dot-carousel\"></div>;\r\n      return \"Loading...\";\r\n    }\r\n    return (\r\n      <div>\r\n        <Link to=\"/businesses\">Back to Restaurants</Link>\r\n        <div> Name of the restaurant: {restaurantDetails.name} </div>\r\n        <img class=\"img\" src={restaurantDetails.image_url} />\r\n        {restaurantDetails.photos.slice(1, 3).map((photo) => {\r\n          return <img class=\"img\" src={photo} />;\r\n        })}\r\n        <div> Category: {restaurantDetails.categories[0].title}</div>\r\n        <div>\r\n          {\" \"}\r\n          Location: {restaurantDetails.location.city} |{\" \"}\r\n          {restaurantDetails.location.address1}\r\n        </div>\r\n        <div> Price range: {restaurantDetails.price}</div>\r\n        <div>\r\n          {\" \"}\r\n          Rating: {restaurantDetails.rating}{\" \"}\r\n          <StarFill height=\"10px\" color=\"blue\" />\r\n        </div>\r\n        <div> Telephone number: {restaurantDetails.phone}</div>\r\n        <a href={restaurantDetails.url}>\r\n          {\" \"}\r\n          Website\r\n          <ArrowUpRight height=\"10px\" />\r\n        </a>\r\n        <Link to={`/businesses/${restaurantId}/add-review`}>\r\n          <div> Write a review </div>\r\n        </Link>\r\n        <ReviewList restaurantId={restaurantId} />\r\n        <Map location={restaurantDetails} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RestaurantDetails;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport { render } from \"react-dom\";\r\nimport axios from \"axios\";\r\nimport config from \"./config\";\r\nimport \"./index.css\";\r\nimport MyNav from \"./components/MyNav.jsx\";\r\nimport SignUp from \"./components/SignUp\";\r\nimport SignIn from \"./components/SignIn\";\r\nimport RestaurantsList from \"./components/RestaurantsList\";\r\nimport AddReview from \"./components/AddReview\";\r\nimport Profile from \"./components/Profile\";\r\nimport AddUserDetails from \"./components/AddUserDetails\";\r\nimport RestaurantDetails from \"./components/RestaurantDetails\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    restaurants: [],\r\n    loggedInUser: null,\r\n    error: null,\r\n    reviews: [],\r\n    filteredProfile: [],\r\n    user: [],\r\n    showForm: false,\r\n    fetching: true,\r\n  };\r\n\r\n  // All the initial data that display to the user is fetched here\r\n  componentDidMount() {\r\n    axios\r\n      .get(`${config.API_URL}/api/user`, { withCredentials: true })\r\n      .then((response) => {\r\n        this.setState({\r\n          user: response.data,\r\n          fetching: false,\r\n        });\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Detail fecth failed\");\r\n        this.setState({\r\n          fetching: false,\r\n        });\r\n      });\r\n    if (!this.state.loggedInUser) {\r\n      axios\r\n        .get(`${config.API_URL}/api/user`, { withCredentials: true })\r\n        .then((response) => {\r\n          this.setState({\r\n            loggedInUser: response.data,\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  }\r\n\r\n  handleSubmitProfile = (event) => {\r\n    event.preventDefault();\r\n    let country = event.target.country.value;\r\n    let favorite = event.target.favorite.value;\r\n    let profileimage = event.target.profileimage.files[0];\r\n\r\n    let uploadForm = new FormData();\r\n    uploadForm.append(\"imageUrl\", profileimage);\r\n\r\n    axios\r\n      .post(`${config.API_URL}/api/upload`, uploadForm)\r\n      .then((response) => {\r\n        axios\r\n          .patch(\r\n            `${config.API_URL}/api/user`,\r\n            { country, favorite, profileimage: response.data.image },\r\n            { withCredentials: true }\r\n          )\r\n          .then((response) => {\r\n            this.setState(\r\n              {\r\n                loggedInUser: response.data,\r\n              },\r\n              () => {\r\n                this.props.history.push(\"/profile\");\r\n              }\r\n            );\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Update failed\", err);\r\n      });\r\n  };\r\n\r\n  handleDelete = (id) => {\r\n    //1. Make an API call to the server side Route to delete that specific todo\r\n    axios\r\n      .delete(`${config.API_URL}/api/user/${id}`)\r\n      .then(() => {\r\n        let filteredProfile = this.state.user.filter((user) => {\r\n          return user._id !== id;\r\n        });\r\n\r\n        this.setState(\r\n          {\r\n            user: filteredProfile,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Delete failed\", err);\r\n      });\r\n  };\r\n\r\n  handleSignUp = (event) => {\r\n    event.preventDefault();\r\n    let user = {\r\n      username: event.target.username.value,\r\n      email: event.target.email.value,\r\n      password: event.target.password.value,\r\n    };\r\n\r\n    axios\r\n      .post(`${config.API_URL}/api/signup`, user)\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            loggedInUser: response.data,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/signin\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          error: err.response.data,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleSignIn = (event) => {\r\n    event.preventDefault();\r\n    let user = {\r\n      email: event.target.email.value,\r\n      password: event.target.password.value,\r\n    };\r\n\r\n    axios\r\n      .post(`${config.API_URL}/api/signin`, user, { withCredentials: true })\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            loggedInUser: response.data,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/businesses\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          error: err.response.data,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleLogout = (event) => {\r\n    axios\r\n      .post(`${config.API_URL}/api/logout`, {}, { withCredentials: true })\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            loggedInUser: null,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Something went wrong\", err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { loggedInUser, error, fetching } = this.state;\r\n\r\n   if(fetching){\r\n     return<p>Loading App.js</p>\r\n   }\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <MyNav onLogout={this.handleLogout} user={loggedInUser} />\r\n        <Switch>\r\n          <Route\r\n            path=\"/signin\"\r\n            render={(routeProps) => {\r\n              return (\r\n                <SignIn\r\n                  error={error}\r\n                  onSignIn={this.handleSignIn}\r\n                  {...routeProps}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/signup\"\r\n            render={(routeProps) => {\r\n              return (\r\n                <SignUp\r\n                  error={error}\r\n                  onSignUp={this.handleSignUp}\r\n                  {...routeProps}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/profile\"\r\n            render={(routeProps) => {\r\n              return <Profile {...routeProps} />;\r\n            }}\r\n          />\r\n          <Route exact path=\"/businesses\" component={RestaurantsList} />\r\n          <Route\r\n            exact\r\n            path=\"/businesses/:restaurantId/add-review\"\r\n            render={() => {\r\n              return <AddReview onAdd={this.handleSubmit} />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/user\"\r\n            render={(routeProps) => {\r\n              return (\r\n                <AddUserDetails\r\n                  onAdd={this.handleSubmitProfile}\r\n                  onDelete={this.handleDelete}\r\n                  {...routeProps}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/businesses/:restaurantId\"\r\n            component={RestaurantDetails}\r\n          />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(App);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}